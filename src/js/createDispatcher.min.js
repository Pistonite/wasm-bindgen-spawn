return async function(){let t=await(await fetch(args[1])).text(),n=t+`
self.onmessage=async(_)=>{let{recv:a,start_send:i,url:o,memory:t,wasm:n}=_.data;await wasm_bindgen({memory:t,module_or_path:n}),wasm_bindgen.__dispatch_start(i);while(!0){let r=wasm_bindgen.__dispatch_recv(a);if(!r)break;let[w,d,m,c,p]=r;await new Promise((e)=>{let s=new Worker(o);s.onmessage=({data:g})=>{if(g)return s.postMessage({id:w,f:d,send:m,start:c,memory:t,wasm:n}),e();s.terminate()}});while(!wasm_bindgen.__dispatch_poll_worker(p))await new Promise((e)=>setTimeout(e,0))}wasm_bindgen.__dispatch_drop(a),self.postMessage(0)};self.postMessage(1);

`,a=URL.createObjectURL(new Blob([n],{type:"text/javascript"})),o=t+`
self.onmessage=async(n)=>{let{id:s,f:_,send:a,start:o,memory:r,wasm:t}=n.data;await wasm_bindgen({memory:r,module_or_path:t});try{let e=wasm_bindgen.__worker_main(_,o);wasm_bindgen.__worker_send(s,a,e)}catch(e){self.console.error(e),wasm_bindgen.__worker_send(s,a)}self.postMessage(0)};self.postMessage(1);

`,r=URL.createObjectURL(new Blob([o],{type:"text/javascript"})),i=await(await fetch(args[0])).arrayBuffer(),_=args[2],w=args[3],c=args[4],m=args[5],d=args[6],e=new Worker(a);await new Promise((s)=>{e.onmessage=({data:g})=>{if(g){s(),e.postMessage({recv:w,start_send:c,url:r,memory:_,wasm:i});return}URL.revokeObjectURL(a),URL.revokeObjectURL(r),e.terminate()}});while(!d(m))await new Promise((s)=>setTimeout(s,0))}();

